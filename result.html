<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Your Manderley Figure</title>
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/juliengogh/manderley-eno@main/styles.css" as="style">
    <link rel="stylesheet" href="styles.css" onerror="loadFallbackCSS()">
    
    <script>
        function loadFallbackCSS() {
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdn.jsdelivr.net/gh/juliengogh/manderley-en@main/styles.css';
            document.head.appendChild(link);
        }
    </script>
</head>
<body>
    <div id="loading" style="position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:9999;display:flex;justify-content:center;align-items:center;">
        <div style="color:#fff;font-size:20px;">Loading...</div>
    </div>
    
    <div id="result-container">
        <h1>Your Manderley Figure：</h1>
        <div id="result"></div>
        <button onclick="window.location.href = 'index.html'">Re-test</button>
    </div>
    
    <script>
        window.addEventListener('load', function() {
            document.getElementById('loading').style.display = 'none';
        });
        
        setTimeout(function() {
            if(document.getElementById('loading').style.display !== 'none') {
                document.getElementById('loading').innerHTML = 
                    '<div style="color:#fff;text-align:center;padding:20px;">' +
                    '   <p>Loading issues detected. Please try:</p>' +
                    '   <p>1. Switching networks (WiFi/4G/5G)</p>' +
                    '   <p>2. Refreshing the page</p>' +
                    '   <button onclick="window.location.reload()" style="padding:10px 20px;margin-top:20px;background:#007bff;color:#fff;border:none;border-radius:5px;">Reload</button>' +
                    '</div>';
            }
        }, 5000);

        const urlParams = new URLSearchParams(window.location.search);
        const role = urlParams.get('role');

        const resultElement = document.getElementById('result');
        let resultText = '';

        switch (role) {
            case 'Macbeth':
                resultText = `
                    Ambitious、Indomitable、Strong motivation for execution<br>
                    Character Recommend：<span class="recommendation">Macbeth</span>
                `;
                break;
            case 'Hecate':
                resultText = `
                    Meticulous、Strategic、Captivating composure<br>
                    Character Recommend：<span class="recommendation">Hecate</span>
                `;
                break;
            case 'Catherine Campbell':
                resultText = `
                    Thorough、Astute、Pragmatic<br>
                    Character Recommend：<span class="recommendation">Catherine Campbell</span>
                `;
                break;
            case 'Agnes Naismith':
                resultText = `
                    Stoic、Reserved、Steadfast<br>
                    Character Recommend：<span class="recommendation">Agnes Naismith</span>
                `;
                break;
            case 'Green Snake':
                resultText = `
                    Individualistic、Audacious、Confident and Independent<br>
                    Character Recommend：<span class="recommendation">Green Snake</span>
                `;
                break;
            case 'The Bride':
                resultText = `
                    Tender、Tenacious、Idealistic and Romantic<br>
                    Character Recommend：<span class="recommendation">The Bride</span>
                `;
                break;
            default:
                resultText = 'Unknown result';
        }

        resultElement.innerHTML = resultText;
    </script>
</body>
</html>
